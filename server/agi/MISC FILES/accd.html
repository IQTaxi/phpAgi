<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IqTaxi IVR Call Flow Demo</title>
    <style>
        body {
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: #f7f9fb;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: #1f2937;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 24px rgba(15, 23, 42, 0.08);
            border: 1px solid #e2e8f0;
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 32px 24px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        .language-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .language-toggle:hover {
            background: rgba(255,255,255,0.25);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-2px);
        }
        
        .flow-container {
            padding: 40px 32px;
            background: #f7f9fb;
        }
        
        .step {
            background: white;
            border: 2px solid #cbd5e1;
            border-radius: 12px;
            margin: 24px 0;
            padding: 28px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(15, 23, 42, 0.04);
        }
        
        .step:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(59, 130, 246, 0.15);
        }
        
        .step.active {
            border-color: #1e40af;
            background: #f0f7ff;
            box-shadow: 0 4px 20px rgba(30, 64, 175, 0.1);
        }
        
        .step-title {
            font-size: 1.3em;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
        }
        
        .step-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 14px;
            font-weight: 700;
            font-size: 15px;
            box-shadow: 0 2px 8px rgba(30, 64, 175, 0.3);
        }
        
        .playback {
            background: #e0f2fe;
            border-left: 5px solid #0284c7;
            padding: 18px;
            margin: 18px 0;
            border-radius: 8px;
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
        
        .playback-title {
            font-weight: 700;
            color: #0c4a6e;
            margin-bottom: 10px;
            font-size: 1.05em;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 18px;
            margin: 24px 0;
        }
        
        .option {
            background: white;
            border: 2px solid #cbd5e1;
            border-radius: 10px;
            padding: 18px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #374151;
            box-shadow: 0 1px 4px rgba(15, 23, 42, 0.04);
        }
        
        .option:hover {
            border-color: #3b82f6;
            background: #f0f7ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15);
            color: #1e40af;
        }
        
        .condition {
            background: #fef3c7;
            border-left: 5px solid #d97706;
            padding: 18px;
            margin: 18px 0;
            border-radius: 8px;
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
            color: #92400e;
            font-weight: 500;
        }
        
        .arrow {
            text-align: center;
            font-size: 1.8em;
            color: #64748b;
            margin: 20px 0;
        }
        
        .language-selector {
            background: #fecaca;
            border: 2px solid #ef4444;
            border-radius: 10px;
            padding: 18px;
            margin: 18px 0;
            color: #dc2626;
        }
        
        .config-info {
            background: #f1f5f9;
            border-radius: 10px;
            padding: 20px;
            margin: 18px 0;
            font-family: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
            font-size: 13px;
            border: 2px solid #cbd5e1;
            color: #475569;
        }
        
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 18px;
            margin-bottom: 28px;
            padding: 24px;
            background: white;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(15, 23, 42, 0.04);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        
        .legend-color {
            width: 18px;
            height: 18px;
            border-radius: 4px;
            margin-right: 10px;
            border: 1px solid #cbd5e1;
        }
        
        .api-call {
            background: #f0fdf4;
            border-left: 5px solid #22c55e;
            padding: 18px;
            margin: 18px 0;
            border-radius: 8px;
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
            color: #15803d;
        }
        
        .end-state {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            font-weight: 700;
            margin: 24px 0;
            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.25);
        }
        
        .error-state {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            font-weight: 700;
            margin: 24px 0;
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.25);
        }
        
        .user-path {
            background: #f8fafc;
            border: 2px solid #94a3b8;
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }
        
        .path-title {
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 16px;
            font-size: 1.15em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="language-toggle" onclick="toggleLanguage()">
                <span id="lang-toggle-text">ğŸ‡¬ğŸ‡· Î•Î»Î»Î·Î½Î¹ÎºÎ¬</span>
            </div>
            <h1 id="main-title">ğŸš• IqTaxi IVR Call Flow Demo</h1>
            <p id="main-subtitle">Interactive demonstration of the complete call handling system</p>
        </div>
        
        <div class="flow-container">
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #e0f2fe;"></div>
                    <span class="legend-text" data-en="Audio Playback" data-el="Î‘Î½Î±Ï€Î±ÏÎ±Î³Ï‰Î³Î® Î‰Ï‡Î¿Ï…">Audio Playback</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: white;"></div>
                    <span class="legend-text" data-en="User Options" data-el="Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ Î§ÏÎ®ÏƒÏ„Î·">User Options</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fef3c7;"></div>
                    <span class="legend-text" data-en="System Logic" data-el="Î›Î¿Î³Î¹ÎºÎ® Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚">System Logic</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f0fdf4;"></div>
                    <span class="legend-text" data-en="API Calls" data-el="ÎšÎ»Î®ÏƒÎµÎ¹Ï‚ API">API Calls</span>
                </div>
            </div>

            <!-- STEP 1: Anonymous Caller Check -->
            <div class="step" onclick="toggleStep(this)">
                <div class="step-title">
                    <div class="step-icon">1</div>
                    <span class="step-text" data-en="Anonymous/Invalid Caller Detection" data-el="Î•Î½Ï„Î¿Ï€Î¹ÏƒÎ¼ÏŒÏ‚ Î‘Î½ÏÎ½Ï…Î¼Î¿Ï…/Î†ÎºÏ…ÏÎ¿Ï… ÎšÎ±Î»Î¿ÏÎ½Ï„Î¿Ï‚">Anonymous/Invalid Caller Detection</span>
                </div>
                
                <div class="condition">
                    ğŸš¨ <strong class="condition-text" data-en="Critical Security Check - isAnonymousCaller():" data-el="ÎšÏÎ¯ÏƒÎ¹Î¼Î¿Ï‚ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î‘ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚ - isAnonymousCaller():">Critical Security Check - isAnonymousCaller():</strong><br>
                    â€¢ empty($caller_num) - <span data-en="No caller ID" data-el="Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· ÎºÎ±Î»Î¿ÏÎ½Ï„Î¿Ï‚">No caller ID</span><br>
                    â€¢ $caller_num === 'anonymous' - <span data-en="Explicitly anonymous" data-el="Î¡Î·Ï„Î¬ Î±Î½ÏÎ½Ï…Î¼Î¿Ï‚">Explicitly anonymous</span><br>
                    â€¢ $caller_num === 'unknown' - <span data-en="Unknown caller" data-el="Î†Î³Î½Ï‰ÏƒÏ„Î¿Ï‚ ÎºÎ±Î»ÏÎ½">Unknown caller</span><br>
                    â€¢ strlen($caller_num) â‰¤ 5 - <span data-en="Too short (less than 6 digits)" data-el="Î Î¿Î»Ï ÏƒÏÎ½Ï„Î¿Î¼Î¿ (Î»Î¹Î³ÏŒÏ„ÎµÏÎ¿ Î±Ï€ÏŒ 6 ÏˆÎ·Ï†Î¯Î±)">Too short (less than 6 digits)</span><br>
                    â€¢ $caller_num === '' - <span data-en="Empty string" data-el="ÎšÎµÎ½ÏŒ string">Empty string</span>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Anonymous Caller Message" data-el="ÎœÎ®Î½Ï…Î¼Î± Î‘Î½ÏÎ½Ï…Î¼Î¿Ï… ÎšÎ±Î»Î¿ÏÎ½Ï„Î¿Ï‚">Anonymous Caller Message</span></div>
                    <strong data-en="Greek:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬:">Greek:</strong> "Î›Ï…Ï€Î¬Î¼Î±Î¹, Î´ÎµÎ½ Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÏƒÎ±Ï‚ ÎµÎ¾Ï…Ï€Î·ÏÎµÏ„Î®ÏƒÎ¿Ï…Î¼Îµ Î¼Îµ Î±Ï€ÏŒÎºÏÏ…ÏˆÎ· Î±ÏÎ¹Î¸Î¼Î¿Ï. Î£Î±Ï‚ Ï€ÏÎ¿Ï‰Î¸Ï Î³Î¹Î± Î½Î± Î¼Î¹Î»Î®ÏƒÎµÏ„Îµ Î¼Îµ ÎµÎºÏ€ÏÏŒÏƒÏ‰Ï€Î¿"<br>
                    <strong data-en="English:" data-el="Î‘Î³Î³Î»Î¹ÎºÎ¬:">English:</strong> "Sorry, we cannot serve you with a hidden number. I am connecting you to speak with a representative."
                </div>
                
                <div class="error-state">
                    âš ï¸ <span data-en="IF ANONYMOUS â†’ PLAY MESSAGE â†’ TRANSFER TO OPERATOR" data-el="Î‘Î Î‘ÎÎ©ÎÎ¥ÎœÎŸÎ£ â†’ Î‘ÎÎ‘Î Î‘Î¡Î‘Î“Î©Î“Î— ÎœÎ—ÎÎ¥ÎœÎ‘Î¤ÎŸÎ£ â†’ ÎœÎ•Î¤Î‘Î¦ÎŸÎ¡Î‘ Î£Î• Î§Î•Î™Î¡Î™Î£Î¤Î—">IF ANONYMOUS â†’ PLAY MESSAGE â†’ TRANSFER TO OPERATOR</span><br>
                    <span data-en="Call flow ends here for anonymous callers" data-el="Î— ÏÎ¿Î® ÎºÎ»Î®ÏƒÎ·Ï‚ Ï„ÎµÎ»ÎµÎ¹ÏÎ½ÎµÎ¹ ÎµÎ´Ï Î³Î¹Î± Î±Î½ÏÎ½Ï…Î¼Î¿Ï…Ï‚ ÎºÎ±Î»Î¿ÏÎ½Ï„ÎµÏ‚">Call flow ends here for anonymous callers</span>
                </div>
                
                <div class="condition">
                    âœ… <strong data-en="If Valid Caller ID:" data-el="Î‘Î½ ÎˆÎ³ÎºÏ…ÏÎ· Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· ÎšÎ±Î»Î¿ÏÎ½Ï„Î¿Ï‚:">If Valid Caller ID:</strong> <span data-en="Continue to configuration check" data-el="Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÏƒÏ„Î¿Î½ Î­Î»ÎµÎ³Ï‡Î¿ Î´Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ·Ï‚">Continue to configuration check</span>
                </div>
            </div>

            <div class="arrow">â¬‡ï¸</div>

            <!-- STEP 2: Configuration Check -->
            <div class="step" onclick="toggleStep(this)">
                <div class="step-title">
                    <div class="step-icon">2</div>
                    <span class="step-text" data-en="Call Initiation & Configuration Check" data-el="ÎˆÎ½Î±ÏÎ¾Î· ÎšÎ»Î®ÏƒÎ·Ï‚ & ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î”Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ·Ï‚">Call Initiation & Configuration Check</span>
                </div>
                
                <div class="config-info">
                    <strong data-en="Configuration Example (Extension 4039):" data-el="Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î”Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ·Ï‚ (Î•ÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ® 4039):">Configuration Example (Extension 4039):</strong><br>
                    â€¢ initialMessageSound: "strike"<br>
                    â€¢ redirectToOperator: false<br>
                    â€¢ defaultLanguage: "el" (<span data-en="Greek" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬">Greek</span>)<br>
                    â€¢ callbackMode: 1<br>
                    â€¢ autoCallCentersMode: 3 (<span data-en="Both ASAP & reservations allowed" data-el="Î•Ï€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹ Î¬Î¼ÎµÏƒÎ± & ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚">Both ASAP & reservations allowed</span>)<br>
                    â€¢ strictDropoffLocation: false<br>
                    â€¢ geocodingApiVersion: 1 (<span data-en="Google Maps Geocoding" data-el="Google Maps Geocoding">Google Maps Geocoding</span>)<br>
                    â€¢ bounds: null (<span data-en="No geographic restrictions" data-el="Î§Ï‰ÏÎ¯Ï‚ Î³ÎµÏ‰Î³ÏÎ±Ï†Î¹ÎºÎ¿ÏÏ‚ Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î¿ÏÏ‚">No geographic restrictions</span>)<br>
                    â€¢ centerBias: null (<span data-en="No location bias" data-el="Î§Ï‰ÏÎ¯Ï‚ Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¹Î±ÎºÎ® Ï€ÏÎ¿Ï„Î¯Î¼Î·ÏƒÎ·">No location bias</span>)
                </div>
                
                <div class="condition">
                    âœ… <strong data-en="Check:" data-el="ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚:">Check:</strong> <span data-en="If initialMessageSound is configured â†’ Play initial message" data-el="Î‘Î½ Î­Ï‡ÎµÎ¹ ÏÏ…Î¸Î¼Î¹ÏƒÏ„ÎµÎ¯ initialMessageSound â†’ Î‘Î½Î±Ï€Î±ÏÎ±Î³Ï‰Î³Î® Î±ÏÏ‡Î¹ÎºÎ¿Ï Î¼Î·Î½ÏÎ¼Î±Ï„Î¿Ï‚">If initialMessageSound is configured â†’ Play initial message</span>
                </div>
                
                <div class="condition">
                    âš ï¸ <strong data-en="Check:" data-el="ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚:">Check:</strong> <span data-en="If redirectToOperator = true â†’ Transfer to operator immediately" data-el="Î‘Î½ redirectToOperator = true â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î® Î¬Î¼ÎµÏƒÎ±">If redirectToOperator = true â†’ Transfer to operator immediately</span>
                </div>
                
                <div class="condition">
                    ğŸ›ï¸ <strong data-en="autoCallCentersMode Check:" data-el="ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ autoCallCentersMode:">autoCallCentersMode Check:</strong><br>
                    â€¢ <strong data-en="Mode 0:" data-el="Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± 0:">Mode 0:</strong> <span data-en="All services disabled â†’ Transfer to operator" data-el="ÎŒÎ»ÎµÏ‚ Î¿Î¹ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚ Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î·Î¼Î­Î½ÎµÏ‚ â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">All services disabled â†’ Transfer to operator</span><br>
                    â€¢ <strong data-en="Mode 1:" data-el="Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± 1:">Mode 1:</strong> <span data-en="Only ASAP calls allowed (Press 2 â†’ operator)" data-el="ÎœÏŒÎ½Î¿ Î¬Î¼ÎµÏƒÎµÏ‚ ÎºÎ»Î®ÏƒÎµÎ¹Ï‚ ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹ (Î Î¬Ï„Î·Î¼Î± 2 â†’ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚)">Only ASAP calls allowed (Press 2 â†’ operator)</span><br>
                    â€¢ <strong data-en="Mode 2:" data-el="Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± 2:">Mode 2:</strong> <span data-en="Only reservations allowed (Press 1 â†’ operator)" data-el="ÎœÏŒÎ½Î¿ ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹ (Î Î¬Ï„Î·Î¼Î± 1 â†’ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚)">Only reservations allowed (Press 1 â†’ operator)</span><br>
                    â€¢ <strong data-en="Mode 3:" data-el="Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± 3:">Mode 3:</strong> <span data-en="Both ASAP & reservations allowed (default)" data-el="Î•Ï€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹ Î¬Î¼ÎµÏƒÎ± & ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ (Ï€ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î®)">Both ASAP & reservations allowed (default)</span>
                </div>
            </div>

            <div class="arrow">â¬‡ï¸</div>

            <!-- STEP 3: Welcome Message -->
            <div class="step" onclick="toggleStep(this)">
                <div class="step-title">
                    <div class="step-icon">3</div>
                    <span class="step-text" data-en="Welcome Message & Language Selection" data-el="ÎœÎ®Î½Ï…Î¼Î± ÎšÎ±Î»Ï‰ÏƒÎ¿ÏÎ¯ÏƒÎ¼Î±Ï„Î¿Ï‚ & Î•Ï€Î¹Î»Î¿Î³Î® Î“Î»ÏÏƒÏƒÎ±Ï‚">Welcome Message & Language Selection</span>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Welcome Message (Default: Greek)" data-el="ÎœÎ®Î½Ï…Î¼Î± ÎšÎ±Î»Ï‰ÏƒÎ¿ÏÎ¯ÏƒÎ¼Î±Ï„Î¿Ï‚ (Î ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î®: Î•Î»Î»Î·Î½Î¹ÎºÎ¬)">Welcome Message (Default: Greek)</span></div>
                    <strong data-en="Greek:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬:">Greek:</strong> "ÎšÎ±Î»Î·ÏƒÏ€Î­ÏÎ±, ÎºÎ±Î»ÏÏ‚ Î®ÏÎ¸Î±Ï„Îµ ÏƒÏ„Î¿ ÏÎ±Î´Î¹Î¿Ï„Î±Î¾Î¯ IqTaxi. Î Î±Ï„Î®ÏƒÏ„Îµ 1 Î³Î¹Î± Î¬Î¼ÎµÏƒÎ· Î´Î¹Î±Î´ÏÎ¿Î¼Î®, Ï€Î±Ï„Î®ÏƒÏ„Îµ 2 Î³Î¹Î± ÏÎ±Î½Ï„ÎµÎ²Î¿Ï Î´Î¹Î±Î´ÏÎ¿Î¼Î®Ï‚, Î® Ï€Î±Ï„Î®ÏƒÏ„Îµ 3 Î³Î¹Î± Î½Î± Î¼Î¹Î»Î®ÏƒÎµÏ„Îµ Î¼Îµ ÎµÎºÏ€ÏÏŒÏƒÏ‰Ï€Î¿, Press nine for English."<br><br>
                    <strong data-en="Translation:" data-el="ÎœÎµÏ„Î¬Ï†ÏÎ±ÏƒÎ·:">Translation:</strong> <span data-en="Good evening, welcome to taxi service IqTaxi. Press 1 for immediate trip, press 2 for trip reservation, or press 3 to speak with an operator, press 9 for English." data-el="ÎšÎ±Î»Î·ÏƒÏ€Î­ÏÎ±, ÎºÎ±Î»ÏÏ‚ Î®ÏÎ¸Î±Ï„Îµ ÏƒÏ„Î·Î½ Ï…Ï€Î·ÏÎµÏƒÎ¯Î± Ï„Î±Î¾Î¯ IqTaxi. Î Î±Ï„Î®ÏƒÏ„Îµ 1 Î³Î¹Î± Î¬Î¼ÎµÏƒÎ¿ Ï„Î±Î¾Î¯Î´Î¹, Ï€Î±Ï„Î®ÏƒÏ„Îµ 2 Î³Î¹Î± ÎºÏÎ¬Ï„Î·ÏƒÎ· Ï„Î±Î¾Î¹Î´Î¹Î¿Ï, Î® Ï€Î±Ï„Î®ÏƒÏ„Îµ 3 Î³Î¹Î± Î½Î± Î¼Î¹Î»Î®ÏƒÎµÏ„Îµ Î¼Îµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®, Ï€Î±Ï„Î®ÏƒÏ„Îµ 9 Î³Î¹Î± Î‘Î³Î³Î»Î¹ÎºÎ¬.">Good evening, welcome to taxi service IqTaxi. Press 1 for immediate trip, press 2 for trip reservation, or press 3 to speak with an operator, press 9 for English.</span>
                </div>
                
                <div class="options">
                    <div class="option" onclick="selectOption(this, '1')">
                        <strong data-en="Press 1" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 1">Press 1</strong><br>
                        <span data-en="Immediate Trip" data-el="Î†Î¼ÎµÏƒÎ¿ Î¤Î±Î¾Î¯Î´Î¹">Immediate Trip</span>
                    </div>
                    <div class="option" onclick="selectOption(this, '2')">
                        <strong data-en="Press 2" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 2">Press 2</strong><br>
                        <span data-en="Trip Reservation" data-el="ÎšÏÎ¬Ï„Î·ÏƒÎ· Î¤Î±Î¾Î¹Î´Î¹Î¿Ï">Trip Reservation</span>
                    </div>
                    <div class="option" onclick="selectOption(this, '3')">
                        <strong data-en="Press 3" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 3">Press 3</strong><br>
                        <span data-en="Speak with Operator" data-el="ÎŸÎ¼Î¹Î»Î¯Î± Î¼Îµ Î§ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Speak with Operator</span>
                    </div>
                    <div class="option" onclick="selectOption(this, '9')">
                        <strong data-en="Press 9" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 9">Press 9</strong><br>
                        <span data-en="English Language" data-el="Î‘Î³Î³Î»Î¹ÎºÎ® Î“Î»ÏÏƒÏƒÎ±">English Language</span>
                    </div>
                </div>
            </div>

            <div class="arrow">â¬‡ï¸</div>

            <!-- STEP 4: User Data Collection -->
            <div class="step" onclick="toggleStep(this)" style="display: none;" id="user-data-step">
                <div class="step-title">
                    <div class="step-icon">4</div>
                    <span class="step-text" data-en="User Data Collection & Validation" data-el="Î£Ï…Î»Î»Î¿Î³Î® & Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î§ÏÎ®ÏƒÏ„Î·">User Data Collection & Validation</span>
                </div>
                
                <div class="api-call">
                    <strong>ğŸ”— API Call:</strong> getUserFromAPI(caller_number)<br>
                    <strong data-en="Purpose:" data-el="Î£ÎºÎ¿Ï€ÏŒÏ‚:">Purpose:</strong> <span data-en="Check if user exists and get stored information" data-el="ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î±Î½ Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÎºÎ±Î¹ Î»Î®ÏˆÎ· Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Î¼Î­Î½Ï‰Î½ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½">Check if user exists and get stored information</span><br>
                    <strong data-en="Response:" data-el="Î‘Ï€ÏŒÎºÏÎ¹ÏƒÎ·:">Response:</strong> <span data-en="name, pickup address, coordinates, doNotServe flag" data-el="ÏŒÎ½Î¿Î¼Î±, Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚, ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚, ÏƒÎ·Î¼Î±Î¯Î± doNotServe">name, pickup address, coordinates, doNotServe flag</span>
                </div>
                
                <div class="condition">
                    âš ï¸ <strong data-en="Check:" data-el="ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚:">Check:</strong> <span data-en="If doNotServe = 1 â†’ Transfer to operator (blocked user)" data-el="Î‘Î½ doNotServe = 1 â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î® (Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÎ¼Î­Î½Î¿Ï‚ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚)">If doNotServe = 1 â†’ Transfer to operator (blocked user)</span>
                </div>

                <!-- Two paths based on existing user data -->
                <div class="user-path">
                    <div class="path-title">ğŸ‘¤ <span data-en="EXISTING USER PATH (has name AND pickup address):" data-el="Î”Î™Î‘Î”Î¡ÎŸÎœÎ— Î¥Î Î‘Î¡Î§ÎŸÎÎ¤ÎŸÎ£ Î§Î¡Î—Î£Î¤Î— (Î­Ï‡ÎµÎ¹ ÏŒÎ½Î¿Î¼Î± ÎšÎ‘Î™ Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚):">EXISTING USER PATH (has name AND pickup address):</span></div>
                    
                    <div class="playback">
                        <div class="playback-title">ğŸ”Š <span data-en="Personalized Greeting with Address Confirmation" data-el="Î ÏÎ¿ÏƒÏ‰Ï€Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿Ï‚ Î§Î±Î¹ÏÎµÏ„Î¹ÏƒÎ¼ÏŒÏ‚ Î¼Îµ Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚">Personalized Greeting with Address Confirmation</span></div>
                        <strong data-en="Greek TTS:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬ TTS:">Greek TTS:</strong> "Î“ÎµÎ¹Î± ÏƒÎ±Ï‚ {name}. Î˜Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚ {address}? Î Î±Ï„Î®ÏƒÏ„Îµ 1 Î³Î¹Î± Î½Î±Î¹, Î® 2 Î³Î¹Î± Î½Î± ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Î½Î­Î± Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚."<br>
                        <strong data-en="English TTS:" data-el="Î‘Î³Î³Î»Î¹ÎºÎ¬ TTS:">English TTS:</strong> "Hello {name}. Would you like to use the pickup address {address}? Press 1 for yes or 2 to enter a new pickup address."
                    </div>
                    
                    <div class="options">
                        <div class="option" onclick="selectExistingUser(this, '1')">
                            <strong data-en="Press 1" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 1">Press 1</strong><br>
                            <span data-en="Keep Name + Address" data-el="Î”Î¹Î±Ï„Î®ÏÎ·ÏƒÎ· ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚ + Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚">Keep Name + Address</span><br>
                            <small data-en="â†’ Go directly to destination" data-el="â†’ Î Î·Î³Î±Î¯Î½ÎµÏ„Îµ Î±Ï€ÎµÏ…Î¸ÎµÎ¯Î±Ï‚ ÏƒÏ„Î¿Î½ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒ">â†’ Go directly to destination</small>
                        </div>
                        <div class="option" onclick="selectExistingUser(this, '2')">
                            <strong data-en="Press 2" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 2">Press 2</strong><br>
                            <span data-en="Keep Name, New Pickup" data-el="Î”Î¹Î±Ï„Î®ÏÎ·ÏƒÎ· ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚, ÎÎ­Î± Î Î±ÏÎ±Î»Î±Î²Î®">Keep Name, New Pickup</span><br>
                            <small data-en="â†’ Collect new pickup address" data-el="â†’ Î£Ï…Î»Î»Î¿Î³Î® Î½Î­Î±Ï‚ Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚">â†’ Collect new pickup address</small>
                        </div>
                    </div>
                </div>

                <div class="user-path">
                    <div class="path-title">ğŸ†• <span data-en="NEW USER PATH (missing name OR pickup address):" data-el="Î”Î™Î‘Î”Î¡ÎŸÎœÎ— ÎÎ•ÎŸÎ¥ Î§Î¡Î—Î£Î¤Î— (Î»ÎµÎ¯Ï€ÎµÎ¹ ÏŒÎ½Î¿Î¼Î± Î‰ Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚):">NEW USER PATH (missing name OR pickup address):</span></div>
                    <div class="condition">
                        <span data-en="â†’ Collect missing data via speech recognition" data-el="â†’ Î£Ï…Î»Î»Î¿Î³Î® Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï€Î¿Ï… Î»ÎµÎ¯Ï€Î¿Ï…Î½ Î¼Î­ÏƒÏ‰ Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ·Ï‚ Î¿Î¼Î¹Î»Î¯Î±Ï‚">â†’ Collect missing data via speech recognition</span><br>
                        <span data-en="â†’ Always collect: Name â†’ Pickup â†’ Destination" data-el="â†’ Î Î¬Î½Ï„Î± ÏƒÏ…Î»Î»Î¿Î³Î®: ÎŒÎ½Î¿Î¼Î± â†’ Î Î±ÏÎ±Î»Î±Î²Î® â†’ Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚">â†’ Always collect: Name â†’ Pickup â†’ Destination</span>
                    </div>
                </div>
            </div>

            <!-- STEP 5A: Name Collection (New Users) -->
            <div class="step" onclick="toggleStep(this)" style="display: none;" id="name-step">
                <div class="step-title">
                    <div class="step-icon">5A</div>
                    <span class="step-text" data-en="Name Collection (Speech Recognition)" data-el="Î£Ï…Î»Î»Î¿Î³Î® ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚ (Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· ÎŸÎ¼Î¹Î»Î¯Î±Ï‚)">Name Collection (Speech Recognition)</span>
                </div>
                
                <div class="condition">
                    <strong data-en="Only for NEW users or missing name data" data-el="ÎœÏŒÎ½Î¿ Î³Î¹Î± ÎÎ•ÎŸÎ¥Î£ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î® Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î¿Î½ÏŒÎ¼Î±Ï„Î¿Ï‚ Ï€Î¿Ï… Î»ÎµÎ¯Ï€Î¿Ï…Î½">Only for NEW users or missing name data</strong>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Name Request" data-el="Î‘Î¯Ï„Î·Î¼Î± ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚">Name Request</span></div>
                    <strong data-en="Greek:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬:">Greek:</strong> "Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÎµÎ¯Ï„Îµ Î¼Î¿Ï… Ï„Î¿ ÏŒÎ½Î¿Î¼Î± ÏƒÎ±Ï‚ Î¼ÎµÏ„Î¬ Ï„Î¿Î½ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ Î®Ï‡Î¿."<br>
                    <strong data-en="English:" data-el="Î‘Î³Î³Î»Î¹ÎºÎ¬:">English:</strong> "Please say your name after the tone."
                </div>
                
                <div class="api-call">
                    <strong>ğŸ”— Google Speech-to-Text API:</strong><br>
                    â€¢ <span data-en="Records user speech (max 10 seconds)" data-el="Î—Ï‡Î¿Î³ÏÎ¬Ï†Î·ÏƒÎ· Î¿Î¼Î¹Î»Î¯Î±Ï‚ Ï‡ÏÎ®ÏƒÏ„Î· (Î¼Î­Î³Î¹ÏƒÏ„Î¿ 10 Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±)">Records user speech (max 10 seconds)</span><br>
                    â€¢ <span data-en="Converts to text using Greek/English recognition" data-el="ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® ÏƒÎµ ÎºÎµÎ¯Î¼ÎµÎ½Î¿ Î¼Îµ Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· Î•Î»Î»Î·Î½Î¹ÎºÏÎ½/Î‘Î³Î³Î»Î¹ÎºÏÎ½">Converts to text using Greek/English recognition</span><br>
                    â€¢ <span data-en="Max 3 retry attempts if recognition fails" data-el="ÎœÎ­Î³Î¹ÏƒÏ„Î¿ 3 Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹ÎµÏ‚ ÎµÏ€Î±Î½Î¬Î»Î·ÏˆÎ·Ï‚ Î±Î½ Î· Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· Î±Ï€Î¿Ï„ÏÏ‡ÎµÎ¹">Max 3 retry attempts if recognition fails</span>
                </div>
            </div>

            <!-- STEP 5B: Pickup Address Collection -->
            <div class="step" onclick="toggleStep(this)" style="display: none;" id="pickup-step">
                <div class="step-title">
                    <div class="step-icon">5B</div>
                    <span class="step-text" data-en="Pickup Address Collection" data-el="Î£Ï…Î»Î»Î¿Î³Î® Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ Î Î±ÏÎ±Î»Î±Î²Î®Ï‚">Pickup Address Collection</span>
                </div>
                
                <div class="condition">
                    <strong data-en="For: NEW users OR existing users who pressed 2 (new pickup)" data-el="Î“Î¹Î±: ÎÎ•ÎŸÎ¥Î£ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Î‰ Ï…Ï€Î¬ÏÏ‡Î¿Î½Ï„ÎµÏ‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ Ï€Î¿Ï… Ï€Î¬Ï„Î·ÏƒÎ±Î½ 2 (Î½Î­Î± Ï€Î±ÏÎ±Î»Î±Î²Î®)">For: NEW users OR existing users who pressed 2 (new pickup)</strong>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Pickup Address Request" data-el="Î‘Î¯Ï„Î·Î¼Î± Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ Î Î±ÏÎ±Î»Î±Î²Î®Ï‚">Pickup Address Request</span></div>
                    <strong data-en="Greek:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬:">Greek:</strong> "Î Î±ÏÎ±ÎºÎ±Î»Ï, Ï€ÎµÎ¯Ï„Îµ Î¼Î¿Ï… Ï„Î· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚ ÏƒÎ±Ï‚ Î¼ÎµÏ„Î¬ Ï„Î¿Î½ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ Î®Ï‡Î¿, ÏƒÏ…Î¼Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î±Î½Î¿Î¼Î­Î½Î¿Ï… ÎºÎ±Î¹ Ï„Î¿Ï… Î½Î¿Î¼Î¿Ï"<br>
                    <strong data-en="English:" data-el="Î‘Î³Î³Î»Î¹ÎºÎ¬:">English:</strong> "Please say your pickup address after the tone, including the area."
                </div>
                
                <div class="api-call">
                    <strong>ğŸ”— <span data-en="Address Processing Chain:" data-el="Î‘Î»Ï…ÏƒÎ¯Î´Î± Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚:">Address Processing Chain:</span></strong><br>
                    1. Google Speech-to-Text â†’ <span data-en="Convert speech to text" data-el="ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® Î¿Î¼Î¹Î»Î¯Î±Ï‚ ÏƒÎµ ÎºÎµÎ¯Î¼ÎµÎ½Î¿">Convert speech to text</span><br>
                    2. <span data-en="Geocoding API (configurable):" data-el="API Î“ÎµÏ‰ÎºÏ‰Î´Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ (ÏÏ…Î¸Î¼Î¯ÏƒÎ¹Î¼Î¿):">Geocoding API (configurable):</span><br>
                    &nbsp;&nbsp;â€¢ <span data-en="Version 1: Google Maps Geocoding API" data-el="ÎˆÎºÎ´Î¿ÏƒÎ· 1: Google Maps Geocoding API">Version 1: Google Maps Geocoding API</span><br>
                    &nbsp;&nbsp;â€¢ <span data-en="Version 2: Google Places API v1 (newer)" data-el="ÎˆÎºÎ´Î¿ÏƒÎ· 2: Google Places API v1 (Î½ÎµÏŒÏ„ÎµÏÎ¿)">Version 2: Google Places API v1 (newer)</span><br>
                    3. <span data-en="Geographic Filtering:" data-el="Î“ÎµÏ‰Î³ÏÎ±Ï†Î¹ÎºÏŒ Î¦Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±:">Geographic Filtering:</span><br>
                    &nbsp;&nbsp;â€¢ <span data-en="bounds: Reject results outside defined area" data-el="bounds: Î‘Ï€ÏŒÏÏÎ¹ÏˆÎ· Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½ ÎµÎºÏ„ÏŒÏ‚ ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î·Ï‚ Ï€ÎµÏÎ¹Î¿Ï‡Î®Ï‚">bounds: Reject results outside defined area</span><br>
                    &nbsp;&nbsp;â€¢ <span data-en="centerBias: Prefer results near center point" data-el="centerBias: Î ÏÎ¿Ï„Î¯Î¼Î·ÏƒÎ· Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½ ÎºÎ¿Î½Ï„Î¬ ÏƒÏ„Î¿ ÎºÎ­Î½Ï„ÏÎ¿">centerBias: Prefer results near center point</span><br>
                    4. <span data-en="Validate location precision (ROOFTOP, RANGE_INTERPOLATED required for pickup)" data-el="Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Î±ÎºÏÎ¯Î²ÎµÎ¹Î±Ï‚ Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±Ï‚ (Î±Ï€Î±Î¹Ï„Î¿ÏÎ½Ï„Î±Î¹ ROOFTOP, RANGE_INTERPOLATED Î³Î¹Î± Ï€Î±ÏÎ±Î»Î±Î²Î®)">Validate location precision (ROOFTOP, RANGE_INTERPOLATED required for pickup)</span>
                </div>
            </div>

            <!-- STEP 6: Destination Collection -->
            <div class="step" onclick="toggleStep(this)" style="display: none;" id="destination-step">
                <div class="step-title">
                    <div class="step-icon">6</div>
                    <span class="step-text" data-en="Destination Address Collection" data-el="Î£Ï…Î»Î»Î¿Î³Î® Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï">Destination Address Collection</span>
                </div>
                
                <div class="condition">
                    <strong data-en="For ALL users - always required" data-el="Î“Î¹Î± ÎŒÎ›ÎŸÎ¥Î£ Ï„Î¿Ï…Ï‚ Ï‡ÏÎ®ÏƒÏ„ÎµÏ‚ - Ï€Î¬Î½Ï„Î± Î±Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹">For ALL users - always required</strong>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Destination Request" data-el="Î‘Î¯Ï„Î·Î¼Î± Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï">Destination Request</span></div>
                    <strong data-en="Greek:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬:">Greek:</strong> "Î Î±ÏÎ±ÎºÎ±Î»Ï, Ï€ÎµÎ¯Ï„Îµ Î¼Î¿Ï… Ï„Î· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï ÏƒÎ±Ï‚ Î¼ÎµÏ„Î¬ Ï„Î¿Î½ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ Î®Ï‡Î¿, ÏƒÏ…Î¼Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î±Î½Î¿Î¼Î­Î½Î¿Ï… ÎºÎ±Î¹ Ï„Î¿Ï… Î½Î¿Î¼Î¿Ï."<br>
                    <strong data-en="English:" data-el="Î‘Î³Î³Î»Î¹ÎºÎ¬:">English:</strong> "Please say your destination address after the tone, including the area."
                </div>
                
                <div class="api-call">
                    <strong>ğŸ”— <span data-en="Same Processing as Pickup:" data-el="ÎŠÎ´Î¹Î± Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î¼Îµ Ï„Î·Î½ Î Î±ÏÎ±Î»Î±Î²Î®:">Same Processing as Pickup:</span></strong><br>
                    â€¢ <span data-en="Speech recognition â†’ Text â†’ Geocoding â†’ Validation" data-el="Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· Î¿Î¼Î¹Î»Î¯Î±Ï‚ â†’ ÎšÎµÎ¯Î¼ÎµÎ½Î¿ â†’ Geocoding â†’ Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ·">Speech recognition â†’ Text â†’ Geocoding â†’ Validation</span><br>
                    â€¢ <span data-en="Less strict validation for dropoff:" data-el="Î›Î¹Î³ÏŒÏ„ÎµÏÎ¿ Î±Ï…ÏƒÏ„Î·ÏÎ® ÎµÏ€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Î³Î¹Î± ÎºÎ±Ï„Î¬Î¸ÎµÏƒÎ·:">Less strict validation for dropoff:</span><br>
                    &nbsp;&nbsp;â€¢ <span data-en="strictDropoffLocation = false: Accept all location types" data-el="strictDropoffLocation = false: Î‘Ï€Î¿Î´Î¿Ï‡Î® ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ Ï„ÏÏ€Ï‰Î½ Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±Ï‚">strictDropoffLocation = false: Accept all location types</span><br>
                    &nbsp;&nbsp;â€¢ <span data-en="strictDropoffLocation = true: Only ROOFTOP, RANGE_INTERPOLATED" data-el="strictDropoffLocation = true: ÎœÏŒÎ½Î¿ ROOFTOP, RANGE_INTERPOLATED">strictDropoffLocation = true: Only ROOFTOP, RANGE_INTERPOLATED</span>
                </div>
            </div>

            <!-- STEP 7: Date/Time for Reservation -->
            <div class="step" onclick="toggleStep(this)" style="display: none;" id="reservation-step">
                <div class="step-title">
                    <div class="step-icon">7</div>
                    <span class="step-text" data-en="Reservation Date/Time (Only for Press 2)" data-el="Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±/ÎÏÎ± ÎšÏÎ¬Ï„Î·ÏƒÎ·Ï‚ (ÎœÏŒÎ½Î¿ Î³Î¹Î± Î Î¬Ï„Î·Î¼Î± 2)">Reservation Date/Time (Only for Press 2)</span>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Date/Time Request" data-el="Î‘Î¯Ï„Î·Î¼Î± Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚/ÎÏÎ±Ï‚">Date/Time Request</span></div>
                    <strong data-en="Greek:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬:">Greek:</strong> "Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÎµÎ¯Ï„Îµ Î¼Î¿Ï… Î³Î¹Î± Ï€ÏŒÏ„Îµ Î¸Î­Î»ÎµÏ„Îµ Ï„Î¿ ÏÎ±Î½Ï„ÎµÎ²Î¿Ï Î¼ÎµÏ„Î¬ Ï„Î¿Î½ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ Î®Ï‡Î¿."<br>
                    <strong data-en="English:" data-el="Î‘Î³Î³Î»Î¹ÎºÎ¬:">English:</strong> "Please tell me when you want the reservation after the tone."
                </div>
                
                <div class="api-call">
                    <strong>ğŸ”— <span data-en="Date Processing:" data-el="Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚:">Date Processing:</span></strong><br>
                    â€¢ <span data-en="Speech-to-text for date/time" data-el="ÎŸÎ¼Î¹Î»Î¯Î±-ÏƒÎµ-ÎºÎµÎ¯Î¼ÎµÎ½Î¿ Î³Î¹Î± Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±/ÏÏÎ±">Speech-to-text for date/time</span><br>
                    â€¢ <span data-en="Natural language parsing API" data-el="API Î±Î½Î¬Î»Ï…ÏƒÎ·Ï‚ Ï†Ï…ÏƒÎ¹ÎºÎ®Ï‚ Î³Î»ÏÏƒÏƒÎ±Ï‚">Natural language parsing API</span><br>
                    â€¢ <span data-en="Convert to timestamp within valid range (configured days)" data-el="ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® ÏƒÎµ Ï‡ÏÎ¿Î½Î¿ÏƒÎ®Î¼Î± ÎµÎ½Ï„ÏŒÏ‚ Î­Î³ÎºÏ…ÏÎ¿Ï… ÎµÏÏÎ¿Ï…Ï‚ (ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½ÎµÏ‚ Î·Î¼Î­ÏÎµÏ‚)">Convert to timestamp within valid range (configured days)</span>
                </div>
            </div>

            <!-- STEP 8: Final Confirmation -->
            <div class="step" onclick="toggleStep(this)" style="display: none;" id="confirmation-step">
                <div class="step-title">
                    <div class="step-icon">8</div>
                    <span class="step-text" data-en="Information Confirmation" data-el="Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½">Information Confirmation</span>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Confirmation Options" data-el="Î•Ï€Î¹Î»Î¿Î³Î­Ï‚ Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·Ï‚">Confirmation Options</span></div>
                    <strong data-en="Greek:" data-el="Î•Î»Î»Î·Î½Î¹ÎºÎ¬:">Greek:</strong> "Î Î±Ï„Î®ÏƒÏ„Îµ 0 Î³Î¹Î± Î½Î± ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ¯ÏƒÎµÏ„Îµ Ï„Î·Î½ ÎºÎ»Î®ÏƒÎ·, Ï€Î±Ï„Î®ÏƒÏ„Îµ 1 Î³Î¹Î± Î±Î»Î»Î±Î³Î® Ï„Î¿Ï… Î¿Î½ÏŒÎ¼Î±Ï„ÏŒÏ‚ ÏƒÎ±Ï‚, Ï€Î±Ï„Î®ÏƒÏ„Îµ 2 Î³Î¹Î± Î±Î»Î»Î±Î³Î® Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ Ï€Î±ÏÎ±Î»Î±Î²Î®Ï‚, Î® Ï€Î±Ï„Î®ÏƒÏ„Îµ 3 Î³Î¹Î± Î±Î»Î»Î±Î³Î® Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï."<br>
                    <strong data-en="English:" data-el="Î‘Î³Î³Î»Î¹ÎºÎ¬:">English:</strong> "Press 0 to register the call, press 1 to change your name, press 2 to change the pickup address, or press 3 to change the destination address."
                </div>
                
                <div class="options">
                    <div class="option" onclick="selectOption(this, '0')">
                        <strong data-en="Press 0" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 0">Press 0</strong><br>
                        <span data-en="Register the Call" data-el="ÎšÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ· Ï„Î·Ï‚ ÎšÎ»Î®ÏƒÎ·Ï‚">Register the Call</span>
                    </div>
                    <div class="option" onclick="selectOption(this, '1')">
                        <strong data-en="Press 1" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 1">Press 1</strong><br>
                        <span data-en="Change Name" data-el="Î‘Î»Î»Î±Î³Î® ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚">Change Name</span>
                    </div>
                    <div class="option" onclick="selectOption(this, '2')">
                        <strong data-en="Press 2" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 2">Press 2</strong><br>
                        <span data-en="Change Pickup" data-el="Î‘Î»Î»Î±Î³Î® Î Î±ÏÎ±Î»Î±Î²Î®Ï‚">Change Pickup</span>
                    </div>
                    <div class="option" onclick="selectOption(this, '3')">
                        <strong data-en="Press 3" data-el="Î Î±Ï„Î®ÏƒÏ„Îµ 3">Press 3</strong><br>
                        <span data-en="Change Destination" data-el="Î‘Î»Î»Î±Î³Î® Î ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼Î¿Ï">Change Destination</span>
                    </div>
                </div>
            </div>

            <!-- STEP 9: Final Registration -->
            <div class="step" onclick="toggleStep(this)" style="display: none;" id="registration-step">
                <div class="step-title">
                    <div class="step-icon">9</div>
                    <span class="step-text" data-en="Call Registration & Completion" data-el="ÎšÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ· ÎšÎ»Î®ÏƒÎ·Ï‚ & ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ·">Call Registration & Completion</span>
                </div>
                
                <div class="api-call">
                    <strong>ğŸ”— <span data-en="Registration API Call:" data-el="ÎšÎ»Î®ÏƒÎ· API ÎšÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ·Ï‚:">Registration API Call:</span></strong><br>
                    â€¢ POST to registerBaseUrl/register<br>
                    â€¢ <span data-en="Send: name, pickup, destination, phone, coordinates, language" data-el="Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®: ÏŒÎ½Î¿Î¼Î±, Ï€Î±ÏÎ±Î»Î±Î²Î®, Ï€ÏÎ¿Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚, Ï„Î·Î»Î­Ï†Ï‰Î½Î¿, ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½ÎµÏ‚, Î³Î»ÏÏƒÏƒÎ±">Send: name, pickup, destination, phone, coordinates, language</span><br>
                    â€¢ <span data-en="For reservations: include timestamp" data-el="Î“Î¹Î± ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚: ÏƒÏ…Î¼Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÏ„Î±Î¹ Ï‡ÏÎ¿Î½Î¿ÏƒÎ®Î¼Î±">For reservations: include timestamp</span><br>
                    â€¢ <span data-en="If callbackMode = 2: include callBackURL parameter" data-el="Î‘Î½ callbackMode = 2: ÏƒÏ…Î¼Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÏ„Î±Î¹ Ï€Î±ÏÎ¬Î¼ÎµÏ„ÏÎ¿Ï‚ callBackURL">If callbackMode = 2: include callBackURL parameter</span><br>
                    â€¢ <span data-en="Receive: confirmation message, call status" data-el="Î›Î®ÏˆÎ·: Î¼Î®Î½Ï…Î¼Î± ÎµÏ€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·Ï‚, ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· ÎºÎ»Î®ÏƒÎ·Ï‚">Receive: confirmation message, call status</span>
                </div>

                <!-- Two callback modes with detailed explanations -->
                <div class="user-path">
                    <div class="path-title">ğŸ”„ <span data-en="CALLBACK MODE 1 - Normal Mode (Read API Message & Hangup)" data-el="Î›Î•Î™Î¤ÎŸÎ¥Î¡Î“Î™Î‘ Î•Î Î‘ÎÎ‘KLÎ—Î£Î—Î£ 1 - ÎšÎ±Î½Î¿Î½Î¹ÎºÎ® Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± (Î‘Î½Î¬Î³Î½Ï‰ÏƒÎ· ÎœÎ·Î½ÏÎ¼Î±Ï„Î¿Ï‚ API & ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿)">CALLBACK MODE 1 - Normal Mode (Read API Message & Hangup)</span></div>
                    
                    <div class="condition">
                        <strong data-en="Configuration:" data-el="Î”Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ·:">Configuration:</strong> callbackMode = 1 (Default)
                    </div>

                    <div class="api-call">
                        <strong data-en="Process:" data-el="Î”Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¯Î±:">Process:</strong><br>
                        1. <span data-en="Send registration to API" data-el="Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® ÎºÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ·Ï‚ ÏƒÏ„Î¿ API">Send registration to API</span><br>
                        2. <span data-en="Receive immediate response with message" data-el="Î›Î®ÏˆÎ· Î¬Î¼ÎµÏƒÎ·Ï‚ Î±Ï€ÏŒÎºÏÎ¹ÏƒÎ·Ï‚ Î¼Îµ Î¼Î®Î½Ï…Î¼Î±">Receive immediate response with message</span><br>
                        3. <span data-en="Convert API message to speech (TTS)" data-el="ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® Î¼Î·Î½ÏÎ¼Î±Ï„Î¿Ï‚ API ÏƒÎµ Î¿Î¼Î¹Î»Î¯Î± (TTS)">Convert API message to speech (TTS)</span><br>
                        4. <span data-en="Play message to caller" data-el="Î‘Î½Î±Ï€Î±ÏÎ±Î³Ï‰Î³Î® Î¼Î·Î½ÏÎ¼Î±Ï„Î¿Ï‚ ÏƒÏ„Î¿Î½ ÎºÎ±Î»Î¿ÏÎ½Ï„Î±">Play message to caller</span><br>
                        5. <span data-en="Hang up call" data-el="ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ ÎºÎ»Î®ÏƒÎ·Ï‚">Hang up call</span>
                    </div>

                    <div class="playback">
                        <div class="playback-title">ğŸ”Š <span data-en="Example TTS Message" data-el="Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± ÎœÎ·Î½ÏÎ¼Î±Ï„Î¿Ï‚ TTS">Example TTS Message</span></div>
                        <span data-en="Î¤he API response message (e.g., 'Your call has been registered. You will be notified shortly.')" data-el="Î¤Î¿ Î¼Î®Î½Ï…Î¼Î± Î±Ï€ÏŒÎºÏÎ¹ÏƒÎ·Ï‚ API (Ï€.Ï‡., 'Î— ÎºÎ»Î®ÏƒÎ· ÏƒÎ±Ï‚ ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ®Î¸Î·ÎºÎµ. Î˜Î± ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î·Î¸ÎµÎ¯Ï„Îµ ÏƒÏÎ½Ï„Î¿Î¼Î±.')">The API response message (e.g., "Your call has been registered. You will be notified shortly.")</span>
                    </div>

                    <div class="end-state">
                        âœ… <span data-en="CALL ENDS HERE - User will receive updates via SMS/Push" data-el="Î— ÎšÎ›Î—Î£Î— Î¤Î•Î›Î•Î™Î©ÎÎ•Î™ Î•Î”Î© - ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¸Î± Î»Î¬Î²ÎµÎ¹ ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÎ¹Ï‚ Î¼Î­ÏƒÏ‰ SMS/Push">CALL ENDS HERE - User will receive updates via SMS/Push</span>
                    </div>
                </div>

                <!-- Mode 2: Callback with status monitoring -->
                <div class="user-path">
                    <div class="path-title">ğŸ“ <span data-en="CALLBACK MODE 2 - Status Monitoring (Wait for Callback & Read Status/CarNo)" data-el="Î›Î•Î™Î¤ÎŸÎ¥Î¡Î“Î™Î‘ Î•Î Î‘ÎÎ‘KLÎ—Î£Î—Î£ 2 - Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚ (Î‘Î½Î±Î¼Î¿Î½Î® Î•Ï€Î±Î½Î¬ÎºÎ»Î·ÏƒÎ·Ï‚ & Î‘Î½Î¬Î³Î½Ï‰ÏƒÎ· ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚/Î‘Ï.Î‘Ï…Ï„Î¿ÎºÎ¹Î½Î®Ï„Î¿Ï…)">CALLBACK MODE 2 - Status Monitoring (Wait for Callback & Read Status/CarNo)</span></div>
                    
                    <div class="condition">
                        <strong data-en="Configuration:" data-el="Î”Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ·:">Configuration:</strong> callbackMode = 2<br>
                        <strong data-en="Required:" data-el="Î‘Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹:">Required:</strong> callbackUrl + repeatTimes settings
                    </div>

                    <div class="api-call">
                        <strong data-en="Phase 1 - Registration:" data-el="Î¦Î¬ÏƒÎ· 1 - ÎšÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ·:">Phase 1 - Registration:</strong><br>
                        1. <span data-en="Send registration to API with callBackURL" data-el="Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® ÎºÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ·Ï‚ ÏƒÏ„Î¿ API Î¼Îµ callBackURL">Send registration to API with callBackURL</span><br>
                        2. <span data-en="Play 'waiting for registration' message" data-el="Î‘Î½Î±Ï€Î±ÏÎ±Î³Ï‰Î³Î® Î¼Î·Î½ÏÎ¼Î±Ï„Î¿Ï‚ 'Î±Î½Î±Î¼Î¿Î½Î® ÎºÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ·Ï‚'">Play "waiting for registration" message</span><br>
                        3. <span data-en="Wait for server to create register_info.json file" data-el="Î‘Î½Î±Î¼Î¿Î½Î® Î³Î¹Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î±ÏÏ‡ÎµÎ¯Î¿Ï… register_info.json Î±Ï€ÏŒ Ï„Î¿Î½ server">Wait for server to create register_info.json file</span>
                    </div>

                    <div class="api-call">
                        <strong data-en="Phase 2 - Status Monitoring:" data-el="Î¦Î¬ÏƒÎ· 2 - Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚:">Phase 2 - Status Monitoring:</strong><br>
                        1. <span data-en="Read register_info.json every 3 seconds" data-el="Î‘Î½Î¬Î³Î½Ï‰ÏƒÎ· register_info.json ÎºÎ¬Î¸Îµ 3 Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±">Read register_info.json every 3 seconds</span><br>
                        2. <span data-en="Monitor 'status' and 'carNo' fields" data-el="Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Ï€ÎµÎ´Î¯Ï‰Î½ 'status' ÎºÎ±Î¹ 'carNo'">Monitor "status" and "carNo" fields</span><br>
                        3. <span data-en="Generate TTS for status changes" data-el="Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± TTS Î³Î¹Î± Î±Î»Î»Î±Î³Î­Ï‚ ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚">Generate TTS for status changes</span><br>
                        4. <span data-en="Announce driver assignment and updates" data-el="Î‘Î½Î±ÎºÎ¿Î¯Î½Ï‰ÏƒÎ· Î±Î½Î¬Î¸ÎµÏƒÎ·Ï‚ Î¿Î´Î·Î³Î¿Ï ÎºÎ±Î¹ ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÏ‰Î½">Announce driver assignment and updates</span>
                    </div>

                    <div class="condition">
                        <strong data-en="Status Codes Monitoring:" data-el="Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· ÎšÏ‰Î´Î¹ÎºÏÎ½ ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚:">Status Codes Monitoring:</strong><br>
                        â€¢ <strong>-1:</strong> <span data-en="Searching for taxi" data-el="Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Ï„Î±Î¾Î¯">Searching for taxi</span><br>
                        â€¢ <strong>10:</strong> <span data-en="Driver accepted (announce carNo)" data-el="ÎŸÎ´Î·Î³ÏŒÏ‚ Î´Î­Ï‡Ï„Î·ÎºÎµ (Î±Î½Î±ÎºÎ¿Î¯Î½Ï‰ÏƒÎ· carNo)">Driver accepted (announce carNo)</span><br>
                        â€¢ <strong>1:</strong> <span data-en="Driver approaching" data-el="ÎŸÎ´Î·Î³ÏŒÏ‚ Ï€Î»Î·ÏƒÎ¹Î¬Î¶ÎµÎ¹">Driver approaching</span><br>
                        â€¢ <strong>2:</strong> <span data-en="Driver arrived" data-el="ÎŸÎ´Î·Î³ÏŒÏ‚ Î­Ï†Ï„Î±ÏƒÎµ">Driver arrived</span><br>
                        â€¢ <strong>3:</strong> <span data-en="Passenger picked up" data-el="Î•Ï€Î¹Î²Î¬Ï„Î·Ï‚ Ï€Î±ÏÎ±Î»Î®Ï†Î¸Î·ÎºÎµ">Passenger picked up</span><br>
                        â€¢ <strong>8:</strong> <span data-en="Trip completed" data-el="Î¤Î±Î¾Î¯Î´Î¹ Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ">Trip completed</span><br>
                        â€¢ <strong>20:</strong> <span data-en="No taxi found â†’ Transfer to operator" data-el="Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î±Î¾Î¯ â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">No taxi found â†’ Transfer to operator</span>
                    </div>

                    <div class="playback">
                        <div class="playback-title">ğŸ”Š <span data-en="Example Status Announcements (TTS)" data-el="Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î‘Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÏ‰Î½ ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚ (TTS)">Example Status Announcements (TTS)</span></div>
                        <strong data-en="Driver Assignment:" data-el="Î‘Î½Î¬Î¸ÎµÏƒÎ· ÎŸÎ´Î·Î³Î¿Ï:">Driver Assignment:</strong> "ÎŸ Î¿Î´Î·Î³ÏŒÏ‚ Î¼Îµ Î±Ï…Ï„Î¿ÎºÎ¯Î½Î·Ï„Î¿ Î±ÏÎ¹Î¸Î¼ÏŒÏ‚ {carNo} Î´Î­Ï‡Ï„Î·ÎºÎµ Ï„Î·Î½ ÎºÎ»Î®ÏƒÎ· ÏƒÎ±Ï‚ ÎºÎ±Î¹ Î¸Î± ÎµÎ¯Î½Î±Î¹ ÏƒÏÎ½Ï„Î¿Î¼Î± ÎºÎ¿Î½Ï„Î¬ ÏƒÎ±Ï‚"<br>
                        <strong data-en="Status Update:" data-el="Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚:">Status Update:</strong> "Î¤Î¿ Ï„Î±Î¾Î¯ {carNo} Î­ÏÏ‡ÎµÏ„Î±Î¹ Ï€ÏÎ¿Ï‚ ÎµÏƒÎ¬Ï‚"<br>
                        <strong data-en="No Taxi:" data-el="Î”ÎµÎ½ Î¥Ï€Î¬ÏÏ‡ÎµÎ¹ Î¤Î±Î¾Î¯:">No Taxi:</strong> "Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿ Ï„Î±Î¾Î¯. Î£Î±Ï‚ Î¼ÎµÏ„Î±Ï†Î­ÏÏ‰ ÏƒÎµ ÎµÎºÏ€ÏÏŒÏƒÏ‰Ï€Î¿"
                    </div>

                    <div class="end-state">
                        âœ… <span data-en="CALL ENDS when final status reached (trip completed/cancelled)" data-el="Î— ÎšÎ›Î—Î£Î— Î¤Î•Î›Î•Î™Î©ÎÎ•Î™ ÏŒÏ„Î±Î½ Ï†Ï„Î¬ÏƒÎµÎ¹ Î· Ï„ÎµÎ»Î¹ÎºÎ® ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· (Ï„Î±Î¾Î¯Î´Î¹ Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ/Î±ÎºÏ…ÏÏÎ¸Î·ÎºÎµ)">CALL ENDS when final status reached (trip completed/cancelled)</span>
                    </div>
                </div>
            </div>

            <!-- Error Handling & Hangup Detection -->
            <div class="step error-state" onclick="toggleStep(this)">
                <div class="step-title">
                    <div class="step-icon">âš ï¸</div>
                    <span data-en="Error Handling, Hangup Detection & Fallbacks" data-el="Î§ÎµÎ¹ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î£Ï†Î±Î»Î¼Î¬Ï„Ï‰Î½, Î•Î½Ï„Î¿Ï€Î¹ÏƒÎ¼ÏŒÏ‚ ÎšÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚ & Î•Ï†ÎµÎ´ÏÎ¹ÎºÎ­Ï‚ Î›ÏÏƒÎµÎ¹Ï‚">Error Handling, Hangup Detection & Fallbacks</span>
                </div>
                
                <div class="condition">
                    <strong>ğŸ“ <span data-en="Hangup Detection (Continuous Monitoring):" data-el="Î•Î½Ï„Î¿Ï€Î¹ÏƒÎ¼ÏŒÏ‚ ÎšÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚ (Î£Ï…Î½ÎµÏ‡Î®Ï‚ Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ·):">Hangup Detection (Continuous Monitoring):</strong><br>
                    â€¢ <span data-en="Before each operation: Check channel status" data-el="Î ÏÎ¹Î½ Î±Ï€ÏŒ ÎºÎ¬Î¸Îµ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±: ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚ ÎºÎ±Î½Î±Î»Î¹Î¿Ï">Before each operation: Check channel status</span><br>
                    â€¢ <span data-en="Monitor AGI responses for hangup codes (result=-1, 511)" data-el="Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Î±Ï€Î±Î½Ï„Î®ÏƒÎµÏ‰Î½ AGI Î³Î¹Î± ÎºÏ‰Î´Î¹ÎºÎ¿ÏÏ‚ ÎºÎ»ÎµÎ¹ÏƒÎ¯Î¼Î±Ï„Î¿Ï‚ (result=-1, 511)">Monitor AGI responses for hangup codes (result=-1, 511)</span><br>
                    â€¢ <span data-en="Signal handler for SIGHUP (system hangup)" data-el="Î§ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ ÏƒÎ·Î¼Î¬Ï„Ï‰Î½ Î³Î¹Î± SIGHUP (ÎºÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚)">Signal handler for SIGHUP (system hangup)</span><br>
                    â€¢ <span data-en="Channel status 6 = down/hangup, Status 0 = unavailable" data-el="ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· ÎºÎ±Î½Î±Î»Î¹Î¿Ï 6 = ÎºÎ»ÎµÎ¹ÏƒÏ„ÏŒ, ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· 0 = Î¼Î· Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿">Channel status 6 = down/hangup, Status 0 = unavailable</span><br>
                    â€¢ <span data-en="Immediate call termination and analytics logging" data-el="Î†Î¼ÎµÏƒÎ¿Ï‚ Ï„ÎµÏÎ¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ»Î®ÏƒÎ·Ï‚ ÎºÎ±Î¹ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î® Î±Î½Î±Î»Ï…Ï„Î¹ÎºÏÎ½">Immediate call termination and analytics logging</span>
                </div>

                <div class="condition">
                    <strong data-en="Common Error Scenarios:" data-el="Î£Ï…Î½Î®Î¸Î· Î£ÎµÎ½Î¬ÏÎ¹Î± Î£Ï†Î±Î»Î¼Î¬Ï„Ï‰Î½:">Common Error Scenarios:</strong><br>
                    â€¢ <span data-en="Anonymous caller â†’ Play message, transfer to operator" data-el="Î‘Î½ÏÎ½Ï…Î¼Î¿Ï‚ ÎºÎ±Î»ÏÎ½ â†’ Î‘Î½Î±Ï€Î±ÏÎ±Î³Ï‰Î³Î® Î¼Î·Î½ÏÎ¼Î±Ï„Î¿Ï‚, Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Anonymous caller â†’ Play message, transfer to operator</span><br>
                    â€¢ <span data-en="Extension not configured â†’ Transfer to operator" data-el="Î•ÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ® Î¼Î· ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½Î· â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Extension not configured â†’ Transfer to operator</span><br>
                    â€¢ <span data-en="Service disabled by autoCallCentersMode â†’ Transfer to operator" data-el="Î¥Ï€Î·ÏÎµÏƒÎ¯Î± Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Î±Ï€ÏŒ autoCallCentersMode â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Service disabled by autoCallCentersMode â†’ Transfer to operator</span><br>
                    â€¢ <span data-en="Speech recognition failures (3 attempts) â†’ Transfer to operator" data-el="Î‘Ï€Î¿Ï„Ï…Ï‡Î¯ÎµÏ‚ Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ·Ï‚ Î¿Î¼Î¹Î»Î¯Î±Ï‚ (3 Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹ÎµÏ‚) â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Speech recognition failures (3 attempts) â†’ Transfer to operator</span><br>
                    â€¢ <span data-en="Invalid addresses (3 attempts) â†’ Transfer to operator" data-el="Î†ÎºÏ…ÏÎµÏ‚ Î´Î¹ÎµÏ…Î¸ÏÎ½ÏƒÎµÎ¹Ï‚ (3 Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹ÎµÏ‚) â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Invalid addresses (3 attempts) â†’ Transfer to operator</span><br>
                    â€¢ <span data-en="Address outside bounds â†’ Transfer to operator" data-el="Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· ÎµÎºÏ„ÏŒÏ‚ Î¿ÏÎ¯Ï‰Î½ â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Address outside bounds â†’ Transfer to operator</span><br>
                    â€¢ <span data-en="API failures â†’ Transfer to operator" data-el="Î‘Ï€Î¿Ï„Ï…Ï‡Î¯ÎµÏ‚ API â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">API failures â†’ Transfer to operator</span><br>
                    â€¢ <span data-en="Network timeouts â†’ Transfer to operator" data-el="Î§ÏÎ¿Î½Î¹ÎºÎ¬ ÏŒÏÎ¹Î± Î´Î¹ÎºÏ„ÏÎ¿Ï… â†’ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÎµ Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®">Network timeouts â†’ Transfer to operator</span><br>
                    â€¢ <span data-en="User hangup â†’ Immediate termination, analytics saved" data-el="ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Î±Ï€ÏŒ Ï‡ÏÎ®ÏƒÏ„Î· â†’ Î†Î¼ÎµÏƒÎ¿Ï‚ Ï„ÎµÏÎ¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚, Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î±Î½Î±Î»Ï…Ï„Î¹ÎºÏÎ½">User hangup â†’ Immediate termination, analytics saved</span>
                </div>
                
                <div class="playback">
                    <div class="playback-title">ğŸ”Š <span data-en="Error Messages" data-el="ÎœÎ·Î½ÏÎ¼Î±Ï„Î± Î£Ï†Î±Î»Î¼Î¬Ï„Ï‰Î½">Error Messages</span></div>
                    â€¢ <strong>invalid_input:</strong> "Î”ÎµÎ½ Î¼Ï€Î¿ÏÎ­ÏƒÎ±Î¼Îµ Î½Î± ÎºÎ±Ï„Î±Î½Î¿Î®ÏƒÎ¿Ï…Î¼Îµ Î±Ï…Ï„ÏŒ Ï€Î¿Ï… Î¼Î±Ï‚ ÎµÎ¯Ï€Î±Ï„Îµ. Î Î±ÏÎ±ÎºÎ±Î»Ï Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬ Î¼ÎµÏ„Î¬ Ï„Î¿Î½ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ Î®Ï‡Î¿."<br>
                    â€¢ <strong>invalid_address:</strong> "Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Î· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·, Ï€Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÏÎ¿ÏƒÏ€Î±Î¸Î®ÏƒÏ„Îµ Î¾Î±Î½Î¬."<br>
                    â€¢ <strong>anonymous:</strong> "Î›Ï…Ï€Î¬Î¼Î±Î¹, Î´ÎµÎ½ Î¼Ï€Î¿ÏÎ¿ÏÎ¼Îµ Î½Î± ÏƒÎ±Ï‚ ÎµÎ¾Ï…Ï€Î·ÏÎµÏ„Î®ÏƒÎ¿Ï…Î¼Îµ Î¼Îµ Î±Ï€ÏŒÎºÏÏ…ÏˆÎ· Î±ÏÎ¹Î¸Î¼Î¿Ï. Î£Î±Ï‚ Ï€ÏÎ¿Ï‰Î¸Ï Î³Î¹Î± Î½Î± Î¼Î¹Î»Î®ÏƒÎµÏ„Îµ Î¼Îµ ÎµÎºÏ€ÏÏŒÏƒÏ‰Ï€Î¿"
                </div>
            </div>

            <!-- Analytics & Monitoring -->
            <div class="step" onclick="toggleStep(this)">
                <div class="step-title">
                    <div class="step-icon">ğŸ“Š</div>
                    <span data-en="Advanced Analytics & Real-time Monitoring" data-el="Î ÏÎ¿Ï‡Ï‰ÏÎ·Î¼Î­Î½Î± Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÎ¬ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± & Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¿Ï Î§ÏÏŒÎ½Î¿Ï…">Advanced Analytics & Real-time Monitoring</span>
                </div>
                
                <div class="api-call">
                    <strong>ğŸ“ˆ <span data-en="Comprehensive Analytics Tracking:" data-el="Î ÎµÏÎ¹ÎµÎºÏ„Î¹ÎºÎ® Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÏÎ½ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Ï‰Î½:">Comprehensive Analytics Tracking:</span></strong><br>
                    â€¢ <span data-en="Call duration and processing times per step" data-el="Î”Î¹Î¬ÏÎºÎµÎ¹Î± ÎºÎ»Î®ÏƒÎ·Ï‚ ÎºÎ±Î¹ Ï‡ÏÏŒÎ½Î¿Î¹ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î±Î½Î¬ Î²Î®Î¼Î±">Call duration and processing times per step</span><br>
                    â€¢ <span data-en="API call counts (STT, TTS, Geocoding, Registration)" data-el="ÎœÎµÏ„ÏÎ·Ï„Î­Ï‚ ÎºÎ»Î®ÏƒÎµÏ‰Î½ API (STT, TTS, Geocoding, ÎšÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ·)">API call counts (STT, TTS, Geocoding, Registration)</span><br>
                    â€¢ <span data-en="User retry attempts and failure points by step" data-el="Î ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹ÎµÏ‚ ÎµÏ€Î±Î½Î¬Î»Î·ÏˆÎ·Ï‚ Ï‡ÏÎ·ÏƒÏ„ÏÎ½ ÎºÎ±Î¹ ÏƒÎ·Î¼ÎµÎ¯Î± Î±Ï€Î¿Ï„Ï…Ï‡Î¯Î±Ï‚ Î±Î½Î¬ Î²Î®Î¼Î±">User retry attempts and failure points by step</span><br>
                    â€¢ <span data-en="Language usage statistics and change patterns" data-el="Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ Ï‡ÏÎ®ÏƒÎ·Ï‚ Î³Î»ÏÏƒÏƒÎ±Ï‚ ÎºÎ±Î¹ Î¼Î¿Ï„Î¯Î²Î± Î±Î»Î»Î±Î³ÏÎ½">Language usage statistics and change patterns</span><br>
                    â€¢ <span data-en="Success/failure rates by extension and configuration" data-el="Î Î¿ÏƒÎ¿ÏƒÏ„Î¬ ÎµÏ€Î¹Ï„Ï…Ï‡Î¯Î±Ï‚/Î±Ï€Î¿Ï„Ï…Ï‡Î¯Î±Ï‚ Î±Î½Î¬ ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ® ÎºÎ±Î¹ Î´Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ·">Success/failure rates by extension and configuration</span><br>
                    â€¢ <span data-en="Geographic data analysis and popular routes" data-el="Î‘Î½Î¬Î»Ï…ÏƒÎ· Î³ÎµÏ‰Î³ÏÎ±Ï†Î¹ÎºÏÎ½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÎºÎ±Î¹ Î´Î·Î¼Î¿Ï†Î¹Î»ÎµÎ¯Ï‚ Î´Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚">Geographic data analysis and popular routes</span><br>
                    â€¢ <span data-en="TTS provider performance comparison (Google vs Edge)" data-el="Î£ÏÎ³ÎºÏÎ¹ÏƒÎ· Î±Ï€ÏŒÎ´Î¿ÏƒÎ·Ï‚ Ï€Î±ÏÏŒÏ‡Ï‰Î½ TTS (Google vs Edge)">TTS provider performance comparison (Google vs Edge)</span><br>
                    â€¢ <span data-en="Geocoding API version performance (v1 vs v2)" data-el="Î‘Ï€ÏŒÎ´Î¿ÏƒÎ· ÎµÎºÎ´ÏŒÏƒÎµÏ‰Î½ API Î³ÎµÏ‰ÎºÏ‰Î´Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ (v1 vs v2)">Geocoding API version performance (v1 vs v2)</span>
                </div>
                
                <div class="config-info">
                    <strong data-en="Real-time Data Storage:" data-el="Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¿Ï Î§ÏÏŒÎ½Î¿Ï…:">Real-time Data Storage:</strong><br>
                    â€¢ <span data-en="Progress JSON files for live monitoring dashboards" data-el="Î‘ÏÏ‡ÎµÎ¯Î± Progress JSON Î³Î¹Î± Ï€Î¯Î½Î±ÎºÎµÏ‚ Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ·Ï‚ Î¶Ï‰Î½Ï„Î±Î½Î¬">Progress JSON files for live monitoring dashboards</span><br>
                    â€¢ <span data-en="Complete call logs with millisecond timestamps" data-el="Î Î»Î®ÏÎ· Î±ÏÏ‡ÎµÎ¯Î± ÎºÎ»Î®ÏƒÎµÏ‰Î½ Î¼Îµ Ï‡ÏÎ¿Î½Î¿ÏƒÎ®Î¼Î±Ï„Î± Ï‡Î¹Î»Î¹Î¿ÏƒÏ„ÏÎ½">Complete call logs with millisecond timestamps</span><br>
                    â€¢ <span data-en="Audio recordings for quality assurance and training" data-el="Î—Ï‡Î¿Î³ÏÎ±Ï†Î®ÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î´Î¹Î±ÏƒÏ†Î¬Î»Î¹ÏƒÎ· Ï€Î¿Î¹ÏŒÏ„Î·Ï„Î±Ï‚ ÎºÎ±Î¹ ÎµÎºÏ€Î±Î¯Î´ÎµÏ…ÏƒÎ·">Audio recordings for quality assurance and training</span><br>
                    â€¢ <span data-en="Database analytics with real-time updates for reporting" data-el="Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÎ¬ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± Î²Î¬ÏƒÎ·Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î¼Îµ ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÎ¹Ï‚ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¿Ï Ï‡ÏÏŒÎ½Î¿Ï… Î³Î¹Î± Î±Î½Î±Ï†Î¿ÏÎ­Ï‚">Database analytics with real-time updates for reporting</span><br>
                    â€¢ <span data-en="Call outcome tracking with detailed failure reasons" data-el="Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½ ÎºÎ»Î®ÏƒÎµÏ‰Î½ Î¼Îµ Î»ÎµÏ€Ï„Î¿Î¼ÎµÏÎµÎ¯Ï‚ Î»ÏŒÎ³Î¿Ï…Ï‚ Î±Ï€Î¿Ï„Ï…Ï‡Î¯Î±Ï‚">Call outcome tracking with detailed failure reasons</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentChoice = null;
        let currentLanguage = 'en';
        
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'el' : 'en';
            updateLanguage();
        }
        
        function updateLanguage() {
            const langToggle = document.getElementById('lang-toggle-text');
            const mainTitle = document.getElementById('main-title');
            const mainSubtitle = document.getElementById('main-subtitle');
            
            if (currentLanguage === 'el') {
                langToggle.textContent = 'ğŸ‡ºğŸ‡¸ English';
                mainTitle.textContent = 'ğŸš• Î•Ï€Î¯Î´ÎµÎ¹Î¾Î· Î¡Î¿Î®Ï‚ ÎšÎ»Î®ÏƒÎµÏ‰Î½ IqTaxi IVR';
                mainSubtitle.textContent = 'Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ® ÎµÏ€Î¯Î´ÎµÎ¹Î¾Î· Ï„Î¿Ï… Ï€Î»Î®ÏÎ¿Ï…Ï‚ ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ Ï‡ÎµÎ¹ÏÎ¹ÏƒÎ¼Î¿Ï ÎºÎ»Î®ÏƒÎµÏ‰Î½';
            } else {
                langToggle.textContent = 'ğŸ‡¬ğŸ‡· Î•Î»Î»Î·Î½Î¹ÎºÎ¬';
                mainTitle.textContent = 'ğŸš• IqTaxi IVR Call Flow Demo';
                mainSubtitle.textContent = 'Interactive demonstration of the complete call handling system';
            }
            
            // Update all translatable elements
            document.querySelectorAll('[data-' + currentLanguage + ']').forEach(element => {
                const translation = element.getAttribute('data-' + currentLanguage);
                if (translation) {
                    element.textContent = translation;
                }
            });
        }
        
        function toggleStep(element) {
            element.classList.toggle('active');
        }
        
        function selectOption(element, choice) {
            // Remove previous selections
            document.querySelectorAll('.option').forEach(opt => {
                opt.style.background = '#fff3cd';
                opt.style.color = 'black';
            });
            
            // Highlight selected option
            element.style.background = '#28a745';
            element.style.color = 'white';
            
            currentChoice = choice;
            
            // Show relevant next steps based on choice
            showRelevantSteps(choice);
        }
        
        function selectExistingUser(element, choice) {
            selectOption(element, choice);
            
            // Show different paths for existing users
            if (choice === '1') {
                // Press 1: Keep name + address, go directly to destination
                document.getElementById('name-step').style.display = 'none';
                document.getElementById('pickup-step').style.display = 'none';
                document.getElementById('destination-step').style.display = 'block';
                if (currentChoice === '2') { // If reservation
                    document.getElementById('reservation-step').style.display = 'block';
                }
                document.getElementById('confirmation-step').style.display = 'block';
                document.getElementById('registration-step').style.display = 'block';
            } else if (choice === '2') {
                // Press 2: Keep name, collect new pickup
                document.getElementById('name-step').style.display = 'none';
                document.getElementById('pickup-step').style.display = 'block';
                document.getElementById('destination-step').style.display = 'block';
                if (currentChoice === '2') { // If reservation
                    document.getElementById('reservation-step').style.display = 'block';
                }
                document.getElementById('confirmation-step').style.display = 'block';
                document.getElementById('registration-step').style.display = 'block';
            }
        }
        
        function showRelevantSteps(choice) {
            // Hide all conditional steps first
            const steps = ['user-data-step', 'name-step', 'pickup-step', 'destination-step', 
                          'reservation-step', 'confirmation-step', 'registration-step'];
            steps.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.style.display = 'none';
            });
            
            // Show relevant steps based on user choice
            switch(choice) {
                case '9':
                    // Language change - would show welcome message again in English
                    break;
                case '3':
                    // Transfer to operator - end flow
                    break;
                case '1':
                case '2':
                    document.getElementById('user-data-step').style.display = 'block';
                    document.getElementById('name-step').style.display = 'block';
                    document.getElementById('pickup-step').style.display = 'block';
                    document.getElementById('destination-step').style.display = 'block';
                    if (choice === '2') {
                        document.getElementById('reservation-step').style.display = 'block';
                    }
                    document.getElementById('confirmation-step').style.display = 'block';
                    document.getElementById('registration-step').style.display = 'block';
                    break;
                case '0':
                    document.getElementById('registration-step').style.display = 'block';
                    break;
            }
            
            // Smooth scroll to next visible step
            setTimeout(() => {
                const nextStep = document.querySelector('.step[style*="block"]:not(.active)');
                if (nextStep) {
                    nextStep.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }, 100);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateLanguage();
            const steps = document.querySelectorAll('.step');
            steps[0].classList.add('active'); // Show first step by default
        });
    </script>
</body>
</html>